[ // Bài 1 (Giữ nguyên từ yêu cầu trước)
        { vietnamese: "Nam giới", kanji: "男性", hiragana: "だんせい", example: "男性用の服を買いました。" },
        { vietnamese: "Nữ giới", kanji: "女性", hiragana: "じょせい", example: "女性が多い職場です。" },
        { vietnamese: "Cao tuổi", kanji: "高齢", hiragana: "こうれい", example: "高齢の方に席を譲りました。" },
        { vietnamese: "Hơn tuổi", kanji: "年上", hiragana: "としうえ", example: "年上の人に敬意を払います。" },
        { vietnamese: "Cấp trên", kanji: "目上", hiragana: "めうえ", example: "目上の人に丁寧に話します。" },
        { vietnamese: "Tiền bối", kanji: "先輩", hiragana: "せんぱい", example: "先輩に仕事を教わりました。" },
        { vietnamese: "Hậu bối", kanji: "後輩", hiragana: "こうはい", example: "後輩を指導しています。" },
        { vietnamese: "Cấp trên", kanji: "上司", hiragana: "じょうし", example: "上司から指示を受けました。" },
        { vietnamese: "Đối phương", kanji: "相手", hiragana: "あいて", example: "相手の気持ちを考えます。" },
        { vietnamese: "Người quen", kanji: "知り合い", hiragana: "しりあい", example: "知り合いがパーティーに来ました。" },
        { vietnamese: "Bạn hữu", kanji: "友人", hiragana: "ゆうじん", example: "友人と旅行に行きます。" },
        { vietnamese: "Quan hệ", kanji: "仲", hiragana: "なか", example: "仲の良い友達がいます。" },
        { vietnamese: "Ngày tháng năm sinh", kanji: "生年月日", hiragana: "せいねんがっぴ", example: "生年月日を記入してください。" },
        { vietnamese: "Ra đời", kanji: "誕生", hiragana: "たんじょう", example: "誕生を祝いました。" },
        { vietnamese: "Năm, tuổi", kanji: "年", hiragana: "とし", example: "年を取るのが怖いです。" },
        { vietnamese: "Xuất thân", kanji: "出身", hiragana: "しゅっしん", example: "出身はどこですか？" },
        { vietnamese: "Quê hương", kanji: "故郷", hiragana: "ふるさと", example: "故郷に帰りたいです。" },
        { vietnamese: "Trưởng thành", kanji: "成長", hiragana: "せいちょう", example: "子供が成長しました。" },
        { vietnamese: "Người lớn", kanji: "成人", hiragana: "せいじん", example: "成人式に参加しました。" },
        { vietnamese: "Đỗ", kanji: "合格", hiragana: "ごうかく", example: "試験に合格しました。" },
        { vietnamese: "Học lên", kanji: "進学", hiragana: "しんがく", example: "大学に進学します。" },
        { vietnamese: "Bỏ học", kanji: "退学", hiragana: "たいがく", example: "退学を決めました。" },
        { vietnamese: "Tìm việc", kanji: "就職", hiragana: "しゅうしょく", example: "就職活動を始めました。" },
        { vietnamese: "Nghỉ việc", kanji: "退職", hiragana: "たいしょく", example: "会社を退職しました。" },
        { vietnamese: "Thất nghiệp", kanji: "失業", hiragana: "しつぎょう", example: "失業して困っています。" },
        { vietnamese: "Tăng ca", kanji: "残業", hiragana: "ざんぎょう", example: "残業が多いです。" },
        { vietnamese: "Sinh hoạt", kanji: "生活", hiragana: "せいかつ", example: "生活が忙しいです。" },
        { vietnamese: "Đi làm", kanji: "通勤", hiragana: "つうきん", example: "通勤に時間がかかります。" },
        { vietnamese: "Quá trình học", kanji: "学歴", hiragana: "がくれき", example: "学歴を重視する会社です。" },
        { vietnamese: "Lương", kanji: "給料", hiragana: "きゅうりょう", example: "給料が上がりました。" }
    ],
    [ // Bài 2 (Dựa trên PDF và bổ sung)
        { vietnamese: "Phỏng vấn", kanji: "面接", hiragana: "めんせつ", example: "就職の面接を受けました。" },
    { vietnamese: "Giải lao", kanji: "休憩", hiragana: "きゅうけい", example: "少し休憩しましょう。" },
    { vietnamese: "Tham quan", kanji: "観光", hiragana: "かんこう", example: "京都で観光を楽しみました。" },
    { vietnamese: "Về nước", kanji: "帰国", hiragana: "きこく", example: "来週、帰国する予定です。" },
    { vietnamese: "Về quê", kanji: "帰省", hiragana: "きせい", example: "正月に帰省します。" },
    { vietnamese: "Về nhà", kanji: "帰宅", hiragana: "きたく", example: "毎日午後6時に帰宅します。" },
    { vietnamese: "Tham gia", kanji: "参加", hiragana: "さんか", example: "パーティーに参加します。" },
    { vietnamese: "Tham dự", kanji: "出席", hiragana: "しゅっせき", example: "会議に出席しました。" },
    { vietnamese: "Vắng mặt", kanji: "欠席", hiragana: "けっせき", example: "昨日は病気で欠席しました。" },
    { vietnamese: "Đi muộn", kanji: "遅刻", hiragana: "ちこく", example: "授業に遅刻しました。" },
    { vietnamese: "Trang điểm", kanji: "化粧", hiragana: "けしょう", example: "外出する前に化粧します。" },
    { vietnamese: "Tính toán", kanji: "計算", hiragana: "けいさん", example: "値段を計算してください。" },
    { vietnamese: "Kế hoạch", kanji: "計画", hiragana: "けいかく", example: "旅行の計画を立てました。" },
    { vietnamese: "Thành công", kanji: "成功", hiragana: "せいこう", example: "プロジェクトが成功しました。" },
    { vietnamese: "Thất bại", kanji: "失敗", hiragana: "しっぱい", example: "試験に失敗しました。" },
    { vietnamese: "Chuẩn bị", kanji: "準備", hiragana: "じゅんび", example: "出発の準備をしています。" },
    { vietnamese: "Sắp xếp", kanji: "整理", hiragana: "せいり", example: "書類を整理してください。" },
    { vietnamese: "Gọi món", kanji: "注文", hiragana: "ちゅうもん", example: "レストランで注文しました。" },
    { vietnamese: "Tiết kiệm", kanji: "貯金", hiragana: "ちょきん", example: "毎月貯金しています。" },
    { vietnamese: "Thức trắng đêm", kanji: "徹夜", hiragana: "てつや", example: "試験勉強で徹夜しました。" },
    { vietnamese: "Chuyển nhà", kanji: "引越し", hiragana: "ひっこし", example: "来月引越しします。" },
    { vietnamese: "Chiều cao", kanji: "身長", hiragana: "しんちょう", example: "身長は170センチです。" },
    { vietnamese: "Cân nặng", kanji: "体重", hiragana: "たいじゅう", example: "最近体重が増えました。" },
    { vietnamese: "Vết thương", kanji: "怪我", hiragana: "けが", example: "スポーツで怪我をしました。" },
    { vietnamese: "Hội", kanji: "会", hiragana: "かい", example: "友達との会があります。" },
    { vietnamese: "Sở thích", kanji: "趣味", hiragana: "しゅみ", example: "私の趣味は読書です。" },
    { vietnamese: "Yêu thích", kanji: "興味", hiragana: "きょうみ", example: "歴史に興味があります。" },
    { vietnamese: "Kỷ niệm", kanji: "思い出", hiragana: "おもいで", example: "楽しい思い出がたくさんあります。" },
    { vietnamese: "Đùa", kanji: "冗談", hiragana: "じょうだん", example: "それは冗談ですよね？" },
    { vietnamese: "Mục đích", kanji: "目的", hiragana: "もくてき", example: "旅行の目的は観光です。" }
],
[ // Bài 3
    { vietnamese: "Hứa hẹn", kanji: "約束", hiragana: "やくそく", example: "友達と約束をしました。" },
    { vietnamese: "Nói chuyện", kanji: "お喋り", hiragana: "おしゃべり", example: "彼とお喋りするのが好きです。" },
    { vietnamese: "Ngại ngần", kanji: "遠慮", hiragana: "えんりょ", example: "どうぞ遠慮しないでください。" },
    { vietnamese: "Chịu đựng", kanji: "我慢", hiragana: "がまん", example: "痛みを我慢しました。" },
    { vietnamese: "Làm phiền", kanji: "迷惑", hiragana: "めいわく", example: "ご迷惑をおかけしました。" },
    { vietnamese: "Nguyện vọng", kanji: "希望", hiragana: "きぼう", example: "彼の希望は医者になることです。" },
    { vietnamese: "Mơ", kanji: "夢", hiragana: "ゆめ", example: "夢を叶えるために努力します。" },
    { vietnamese: "Tán thành", kanji: "賛成", hiragana: "さんせい", example: "その意見に賛成です。" },
    { vietnamese: "Phản đối", kanji: "反対", hiragana: "はんたい", example: "計画に反対する人が多いです。" },
    { vietnamese: "Tưởng tượng", kanji: "想像", hiragana: "そうぞう", example: "未来を想像してみましょう。" },
    { vietnamese: "Nỗ lực", kanji: "努力", hiragana: "どりょく", example: "毎日努力しています。" },
    { vietnamese: "Mặt trời", kanji: "太陽", hiragana: "たいよう", example: "太陽が輝いています。" },
    { vietnamese: "Trái đất", kanji: "地球", hiragana: "ちきゅう", example: "地球を大切にしましょう。" },
    { vietnamese: "Nhiệt độ", kanji: "温度", hiragana: "おんど", example: "部屋の温度を調整します。" },
    { vietnamese: "Độ ẩm", kanji: "湿度", hiragana: "しつど", example: "湿度が高くて蒸し暑いです。" },
    { vietnamese: "Hơi ẩm", kanji: "湿気", hiragana: "しっけ", example: "部屋の湿気が多いです。" },
    { vietnamese: "Mùa mưa", kanji: "梅雨", hiragana: "つゆ", example: "梅雨の時期は洗濯が大変です。" },
    { vietnamese: "Nấm mốc", kanji: "黴", hiragana: "かび", example: "靴に黴が生えました。" },
    { vietnamese: "Điều hoà ấm", kanji: "暖房", hiragana: "だんぼう", example: "冬は暖房が必要です。" },
    { vietnamese: "Vỏ", kanji: "皮", hiragana: "かわ", example: "リンゴの皮をむきます。" },
    { vietnamese: "Lon", kanji: "缶", hiragana: "かん", example: "ジュースの缶を捨てました。" },
    { vietnamese: "Màn hình", kanji: "画面", hiragana: "がめん", example: "画面にエラーが表示されました。" },
    { vietnamese: "Chương trình", kanji: "番組", hiragana: "ばんぐみ", example: "この番組はとても面白いです。" },
    { vietnamese: "Ký sự", kanji: "記事", hiragana: "きじ", example: "新聞の記事を読みました。" },
    { vietnamese: "Hàng xóm", kanji: "近所", hiragana: "きんじょ", example: "近所に新しい店ができました。" },
    { vietnamese: "Cảnh sát", kanji: "警察", hiragana: "けいさつ", example: "警察に連絡しました。" },
    { vietnamese: "Thủ phạm", kanji: "犯人", hiragana: "はんにん", example: "犯人が捕まりました。" },
    { vietnamese: "Tiền lẻ", kanji: "小銭", hiragana: "こぜに", example: "自動販売機に小銭を使います。" },
    { vietnamese: "Chiêu đãi", kanji: "ご馳走", hiragana: "ごちそう", example: "友達にご馳走になりました。" },
    { vietnamese: "Tác giả", kanji: "作者", hiragana: "さくしゃ", example: "この本の作者は有名です。" }
    ],
    [ // Bài 4
    { vietnamese: "Tác phẩm", kanji: "作品", hiragana: "さくひん", example: "この作品は有名な画家のものです。" },
    { vietnamese: "Đồng phục", kanji: "制服", hiragana: "せいふく", example: "学生は制服を着ます。" },
    { vietnamese: "Chất tẩy rửa", kanji: "洗剤", hiragana: "せんざい", example: "洗剤で服を洗います。" },
    { vietnamese: "Đáy", kanji: "底", hiragana: "そこ", example: "箱の底に何かがあります。" },
    { vietnamese: "Tầng hầm", kanji: "地下", hiragana: "ちか", example: "地下に駐車場があります。" },
    { vietnamese: "Chùa", kanji: "寺", hiragana: "てら", example: "京都には多くの寺があります。" },
    { vietnamese: "Con đường", kanji: "道路", hiragana: "どうろ", example: "この道路は広いです。" },
    { vietnamese: "Con dốc", kanji: "坂", hiragana: "さか", example: "坂を上るのは大変です。" },
    { vietnamese: "Khói", kanji: "煙", hiragana: "けむり", example: "煙が出ています。火事かもしれません。" },
    { vietnamese: "Tro", kanji: "灰", hiragana: "はい", example: "灰が風に飛ばされました。" },
    { vietnamese: "Kích cỡ", kanji: "判", hiragana: "はん", example: "この用紙の判はA4です。" },
    { vietnamese: "Danh thiếp", kanji: "名刺", hiragana: "めいし", example: "名刺を交換しましょう。" },
    { vietnamese: "Giấy phép", kanji: "免許", hiragana: "めんきょ", example: "運転免許を持っています。" },
    { vietnamese: "Nhiều", kanji: "多く", hiragana: "おおく", example: "多くの人が集まりました。" },
    { vietnamese: "Phần đầu", kanji: "前半", hiragana: "ぜんはん", example: "試合の前半は静かでした。" },
    { vietnamese: "Phần cuối", kanji: "後半", hiragana: "こうはん", example: "映画の後半が面白かったです。" },
    { vietnamese: "Cao nhất, tuyệt vời", kanji: "最高", hiragana: "さいこう", example: "この料理は最高です！" },
    { vietnamese: "Tối thiểu, tệ hại", kanji: "最低", hiragana: "さいてい", example: "今日は最低な日だった。" },
    { vietnamese: "Đầu tiên", kanji: "最初", hiragana: "さいしょ", example: "最初に自己紹介をします。" },
    { vietnamese: "Cuối cùng", kanji: "最後", hiragana: "さいご", example: "最後まで頑張りましょう。" },
    { vietnamese: "Tự động", kanji: "自動", hiragana: "じどう", example: "このドアは自動で開きます。" },
    { vietnamese: "Chủng loại", kanji: "種類", hiragana: "しゅるい", example: "いろいろな種類の花があります。" },
    { vietnamese: "Tính cách", kanji: "性格", hiragana: "せいかく", example: "彼は明るい性格です。" },
    { vietnamese: "Tính chất", kanji: "性質", hiragana: "せいしつ", example: "この金属は硬い性質を持っています。" },
    { vietnamese: "Số thứ tự", kanji: "順番", hiragana: "じゅんばん", example: "順番を守ってください。" },
    { vietnamese: "Phiên, lượt", kanji: "番", hiragana: "ばん", example: "次は私の番です。" },
    { vietnamese: "Phương pháp", kanji: "方法", hiragana: "ほうほう", example: "いい勉強方法を知っていますか？" },
    { vietnamese: "Sản phẩm", kanji: "製品", hiragana: "せいひん", example: "新しい製品が発売されました。" },
    { vietnamese: "Tăng giá", kanji: "値上がり", hiragana: "ねあがり", example: "ガソリンの値上がりが続いています。" },
    { vietnamese: "Tươi, sống", kanji: "生", hiragana: "なま", example: "生の魚を食べました。" }
],
];

let currentLesson = 0;
let currentCard = 0;

function populateLessonSelect() {
    const select = document.getElementById('lesson-select');
    for (let i = 1; i <= lessons.length; i++) {
        const option = document.createElement('option');
        option.value = i - 1;
        option.textContent = `Bài ${i}`;
        select.appendChild(option);
    }
}

function displayCard() {
    const card = lessons[currentLesson][currentCard];
    document.getElementById('front-text').textContent = card.vietnamese;
    document.getElementById('kanji').textContent = card.kanji;
    document.getElementById('hiragana').textContent = card.hiragana;
    document.getElementById('example').textContent = card.example;
    document.getElementById('flashcard').classList.remove('flipped');
    document.getElementById('lesson-select').value = currentLesson;
    document.getElementById('card-counter').textContent = `Từ ${currentCard + 1}/${lessons[currentLesson].length}`;
}

function flipCard() {
    document.getElementById('flashcard').classList.toggle('flipped');
}

function nextCard() {
    currentCard = (currentCard + 1) % lessons[currentLesson].length;
    if (currentCard === 0 && currentLesson < lessons.length - 1) {
        currentLesson++;
    }
    displayCard();
}

function prevCard() {
    currentCard = (currentCard - 1 + lessons[currentLesson].length) % lessons[currentLesson].length;
    if (currentCard === lessons[currentLesson].length - 1 && currentLesson > 0) {
        currentLesson--;
    }
    displayCard();
}

function goToLesson() {
    currentLesson = parseInt(document.getElementById('lesson-select').value);
    currentCard = 0;
    displayCard();
}

// Initialize
populateLessonSelect();
displayCard();
